# 에어컨
## 문제 설명
현대모비스에서 개발한 실내공조 제어 시스템은 차내에 승객이 탑승 중일 때 항상 쾌적한 실내온도(`t1` ~ `t2`)를 유지할 수 있도록 합니다. 현재(0분) 실내온도는 실외온도와 같습니다.

실내공조 제어 시스템은 실내온도를 조절하기 위해 에어컨의 전원을 켜 희망온도를 설정합니다. 희망온도는 에어컨의 전원이 켜져 있는 동안 원하는 값으로 변경할 수 있습니다. 실내온도와 희망온도가 다르다면 1분 뒤 실내온도가 희망온도와 같아지는 방향으로 1도 상승 또는 하강합니다. 실내온도가 희망온도와 같다면 에어컨이 켜져 있는 동안은 실내온도가 변하지 않습니다.

에어컨의 전원을 끄면 실내온도가 실외온도와 같아지는 방향으로 매 분 1도 상승 또는 하강합니다. 실내온도와 실외온도가 같다면 실내온도는 변하지 않습니다.

에어컨의 소비전력은 현재 실내온도에 따라 달라집니다. 에어컨의 희망온도와 실내온도가 다르다면 매 분 전력을 `a`만큼 소비하고, 희망온도와 실내온도가 같다면 매 분 전력을 `b`만큼 소비합니다. 에어컨이 꺼져 있다면 전력을 소비하지 않으며, 에어컨을 켜고 끄는데 필요한 시간과 전력은 0이라고 가정합니다.

실내공조 제어 시스템은 차내에 승객이 탑승 중일 때 실내온도를 `t1` ~ `t2`도 사이로 유지하면서, 에어컨의 소비전력을 최소화합니다.

다음은 실외온도가 28도, `t1` = 18, `t2` = 26, `a` = 10, `b` = 8인 예시입니다.

|시간(분)|승객 탑승|
|-|-|
|0|x|
|1|x|
|2|o|
|3|o|
|4|o|
|5|o|
|6|o|

- 승객이 탑승 중인 2 ~ 6분의 실내온도를 18 ~ 26도 사이로 유지해야 합니다.

다음은 2 ~ 6분의 실내온도를 쾌적한 온도로 유지하는 방법 중 하나입니다.

|시간(분)|승객 탑승|실내온도|희망온도|
|-|-|-|-|
|0|x|28|26|
|1|x|27|26|
|2|o|26|26|
|3|o|26|26|
|4|o|26|26|
|5|o|26|26|
|6|o|26|off|

- 0분의 실내온도는 항상 실외온도와 같습니다.
- 6분에 에어컨의 전원을 껐습니다.

0 ~ 5분에 에어컨의 희망온도를 26도로 설정했습니다. 0 ~ 1분에 희망온도와 실내온도가 다르므로 전력을 매 분 10씩, 2 ~ 5분에 희망온도와 실내온도가 같으므로 전력을 매 분 8씩 소비했습니다. 이때 총 소비전력은 52(= 2 × 10 + 4 × 8)입니다.

다음은 2 ~ 6분의 실내온도를 쾌적한 온도로 유지하는 또 다른 방법입니다.

|시간(분)|승객 탑승|실내온도|희망온도|
|-|-|-|-|
|0|x|28|24|
|1|x|27|24|
|2|o|26|24|
|3|o|25|24|
|4|o|24|off|
|5|o|25|off|
|6|o|26|off|

0 ~ 3분에 에어컨의 희망온도를 24도로 설정해 전력을 매 분 10씩 소비했습니다. 이때 총 소비전력은 40(= 4 × 10)이며, 이보다 소비전력이 적어지는 방법은 없습니다.

실외온도를 나타내는 정수 `temperature`, 쾌적한 실내온도의 범위를 나타내는 정수 `t1`, `t2`, 에어컨의 소비전력을 나타내는 정수 `a`, `b`와 승객이 탑승 중인 시간을 나타내는 1차원 정수 배열 `onboard`가 매개변수로 주어집니다. 승객이 탑승 중인 시간에 쾌적한 실내온도를 유지하기 위한 최소 소비전력을 return 하도록 solution 함수를 완성해 주세요.

## 제한사항
- -10 ≤ `temperature` ≤ 40
- -10 ≤ `t1` < `t2` ≤ 40
  - `temperature`는 `t1` ~ `t2` 범위 밖의 값입니다.
- 1 ≤ `a`, `b` ≤ 100
  - `a`는 에어컨의 희망온도와 실내온도가 다를 때의 1분당 소비전력을 나타냅니다.
  - `b`는 에어컨의 희망온도와 실내온도가 같을 때의 1분당 소비전력을 나타냅니다.
- 2 ≤ `onboard`의 길이 ≤ 1,000
  - `onboard[i]`는 0 혹은 1이며, `onboard[i]`가 1이라면 `i`분에 승객이 탑승 중이라는 것을 의미합니다.
  - `onboard[0]` = 0
  - `onboard`에 1이 최소 한 번 이상 등장합니다.
- 승객이 탑승 중인 시간에 쾌적한 실내온도를 유지하는 것이 불가능한 경우는 주어지지 않습니다.

## 입출력 예
|temperature|t1|t2|a|b|onboard|result|
|-|-|-|-|-|-|-|
|28|18|26|10|8|[0, 0, 1, 1, 1, 1, 1]|40|
|-10|-5|5|5|1|[0, 0, 0, 0, 0, 1, 0]|25|
|11|8|10|10|1|[0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1]|20|
|11|8|10|10|100|[0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1]|60|

## 입출력 예 설명
### 입출력 예 #1

문제 예시와 같습니다.

### 입출력 예 #2

|시간(분)|승객 탑승|실내온도|희망온도|
|-|-|-|-|
|0|x|-10|40|
|1|x|-9|40|
|2|x|-8|40|
|3|x|-7|40|
|4|x|-6|40|
|5|o|-5|off|
|6|x|-6|off|

0 ~ 4분에 에어컨의 희망온도를 40도로 설정하고, 5 ~ 6분에 에어컨의 전원을 끕니다. 이때 총 소비전력은 25(= 5 × 5)며, 이보다 소비전력이 적어지는 방법은 없습니다. 따라서 25를 return 해야 합니다.

### 입출력 예 #3

아래 표와 같이 에어컨을 조작하면 소비전력이 최소가 됩니다.

|시간(분)|승객 탑승|실내온도|희망온도|
|-|-|-|-|
|0|x|11|10|
|1|o|10|10|
|2|o|10|10|
|3|o|10|10|
|4|o|10|10|
|5|o|10|10|
|6|o|10|10|
|7|x|10|10|
|8|x|10|10|
|9|x|10|10|
|10|o|10|10|
|11|o|10|off|

이때 총 소비전력은 20이며, 이보다 소비전력이 적어지는 방법은 없습니다. 따라서 20을 return 해야 합니다.

### 입출력 예 #4

3번째 예시와 비교했을 때 `b`의 값이 다릅니다. 아래 표와 같이 에어컨을 조작하면 소비전력이 최소가 됩니다.

|시간(분)|승객 탑승|실내온도|희망온도|
|-|-|-|-|
|0|x|11|8|
|1|o|10|8|
|2|o|9|8|
|3|o|8|off|
|4|o|9|off|
|5|o|10|8|
|6|o|9|off|
|7|x|10|off|
|8|x|11|off|
|9|x|11|9|
|10|o|10|9|
|11|o|9|off|

이때 총 소비전력은 60이며, 이보다 소비전력이 적어지는 방법은 없습니다. 따라서 60을 return 해야 합니다.

`t1` ~ `t2`는 `t1`도 이상 `t2`도 이하의 온도 범위를 나타냅니다.

# 다른 사람의 풀이
```python
def solution(temperature, t1, t2, a, b, onboard):
    k = 1000 * 100
    t1 += 10
    t2 += 10
    temperature += 10
    
    # DP[i][j] : i분에 j 온도를 만들 수 있는 가장 적은 전력
    DP = [[k] * 51 for _ in range(len(onboard))] # j = 0 : -10 // = 50 : 40
    DP[0][temperature] = 0
    
    flag = 1 # 에어컨을 가동했을때 온도가 변하는 방향
    if temperature > t2 :
        flag = -1
 
    for i in range(1, len(onboard)):
        for j in range(51):
            arr = [k]
            if (onboard[i] == 1 and t1 <= j <= t2) or onboard[i] == 0:
                # 1. 에어컨을 키지 않고 실외온도와 달라서 실내온도가 -flag 되는 경우
                if 0 <= j+flag <= 50 :
                    arr.append(DP[i-1][j+flag])
                # 2. 에어컨을 키지 않고 현재온도 j 가 실외온도랑 같아서 변하지 않는 경우
                if j == temperature:
                    arr.append(DP[i-1][j])
                # 3. 에어컨을 키고 현재온도가 변하는 경우
                if 0 <= j-flag <= 50:
                    arr.append(DP[i-1][j-flag] + a)
                # 4. 에어컨을 키고 현재온도가 희망온도라서 온도가 변하지 않는경우
                if t1 <= j <= t2:
                    arr.append(DP[i-1][j] + b)

                DP[i][j] = min(arr)
            
    answer = min(DP[len(onboard)-1])
    return answer
```
- 전략
  - DP를 사용
  - `DP[i][j]`는 `i`분에 온도 `j`를 만들기 위한 최소 소비 전력
  - 0분의 온도 `temperature`는 시작이므로 0
  - 우리가 필요한 구간은 탑승자가 없는 시점의 모든 온도 및 탑승자가 있는 시점의 쾌적한 범위의 온도
  - 1분 시점부터 이전 시점의 DP값을 참고하여 차례대로 채워 나감
    - 네 가지 케이스 존재
      - 에어컨을 끄고, 온도가 변하는 경우
      - 에어컨을 끄고, 온도가 실외온도로 유지되는 경우
      - 에어컨을 켜고, 온도가 변하는 경우
        - 기존 DP값에 `a` 더함
      - 에어컨을 켜고, 온도가 희망온도로 유지되는 경우
        - 기존 DP에 `b` 더함 
    - 네 가지 경우에 대한 최소 소비전력을 `DP[i][j]`에 채워넣음
  - 마지막 시점에 대한 `DP` 값들 중, 최소 값이 정답

# 내 풀이
```python
def solution(temperature, t1, t2, a, b, onboard):
    MAX = 1000*100
    t1 += 10
    t2 += 10
    temperature += 10
    
    DP = [[MAX]*51 for _ in range(len(onboard))]  # i시점에 온도 j를 만들기 위한 최소 소비전력
    DP[0][temperature] = 0
    
    # 에어컨(-1) 혹은 히터(1) 여부
    flag = -1 if temperature>t2 else 1
    
    for i in range(1, len(onboard)):
        for j in range(51):
            costs = [MAX]
            if onboard[i]==0 or (onboard[i]==1 and t1<=j<=t2):
                # (1) 에어컨을 틀지 않아서 온도가 -flag 만큼 변하는 경우
                if 0<=j+flag<=50:
                    costs.append(DP[i-1][j+flag])
                
                # (2) 에어컨을 틀지 않았지만 온도가 실외온도로 유지되는 경우
                if j==temperature:
                    costs.append(DP[i-1][j])
                
                # (3) 에어컨을 틀어서 온도가 +flag 만큼 변하는 경우
                if 0<=j-flag<=50:
                    costs.append(DP[i-1][j-flag] + a)
                
                # (4) 에어컨을 틀어서 온도가 희망온도로 유지되는 경우
                if t1<=j<=t2:
                    costs.append(DP[i-1][j] + b)
                    
                DP[i][j] = min(costs)
                
    return min(DP[-1])
```
정확성  테스트
```
테스트 1 〉	통과 (0.13ms, 10.2MB)
테스트 2 〉	통과 (38.56ms, 10.9MB)
테스트 3 〉	통과 (16.63ms, 10.5MB)
테스트 4 〉	통과 (0.05ms, 10.3MB)
테스트 5 〉	통과 (0.21ms, 10.4MB)
테스트 6 〉	통과 (0.19ms, 10.2MB)
테스트 7 〉	통과 (0.22ms, 10.3MB)
테스트 8 〉	통과 (0.29ms, 10.2MB)
테스트 9 〉	통과 (0.18ms, 10.2MB)
테스트 10 〉	통과 (6.57ms, 10.3MB)
테스트 11 〉	통과 (5.55ms, 10.4MB)
테스트 12 〉	통과 (5.46ms, 10.3MB)
테스트 13 〉	통과 (29.74ms, 10.8MB)
테스트 14 〉	통과 (36.38ms, 10.4MB)
테스트 15 〉	통과 (30.86ms, 10.7MB)
테스트 16 〉	통과 (31.62ms, 10.8MB)
테스트 17 〉	통과 (26.68ms, 10.5MB)
테스트 18 〉	통과 (22.78ms, 10.5MB)
테스트 19 〉	통과 (35.64ms, 10.3MB)
테스트 20 〉	통과 (32.19ms, 10.4MB)
테스트 21 〉	통과 (33.90ms, 11.2MB)
테스트 22 〉	통과 (41.73ms, 10.4MB)
테스트 23 〉	통과 (49.62ms, 10.3MB)
테스트 24 〉	통과 (46.99ms, 11.9MB)
테스트 25 〉	통과 (43.99ms, 12MB)
```
